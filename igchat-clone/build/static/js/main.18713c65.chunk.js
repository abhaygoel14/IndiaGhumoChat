(this["webpackJsonpigchat-clone"]=this["webpackJsonpigchat-clone"]||[]).push([[0],{66:function(e,c,a){},67:function(e,c,a){},72:function(e,c,a){},74:function(e,c,a){},85:function(e,c,a){},86:function(e,c,a){},87:function(e,c,a){},88:function(e,c,a){},89:function(e,c,a){"use strict";a.r(c);var n=a(2),t=a.n(n),s=a(25),i=a.n(s),r=(a(66),a(67),a(36)),l=a(46),o=a.n(l),j=a(52),d=a.n(j),h=a(14),u=a(26),b=Object(u.b)({name:"chat",initialState:{chatId:null,chatName:null},reducers:{setChatInfo:function(e,c){e.chatId=c.payload.chatId,e.chatName=c.payload.chatName}}}),m=b.actions.setChatInfo,O=function(e){return e.chat.chatId},x=function(e){return e.chat.chatName},p=b.reducer,f=(a(72),a(3));var v=function(e){var c=e.id,a=e.channelName,n=Object(h.b)();return Object(f.jsx)("div",{className:"sideChannelBar",onClick:function(){return n(m({chatId:c,chatName:a}))},children:Object(f.jsxs)("h4",{children:[Object(f.jsx)("span",{className:"sideChannelView",children:"#"}),a]})})},N=a(53),g=a.n(N),I=a(54),C=a.n(I),S=a(55),y=a.n(S),k=a(115),w=Object(u.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),_=w.actions,A=_.login,B=_.logout,V=function(e){return e.user.user},z=w.reducer,D=a(57),E=a.n(D),P=a(56),G=a.n(P),H=a(58),J=a.n(H),L=(a(74),a(31)),M=L.a.initializeApp({apiKey:"AIzaSyDrZv9mpBjFeJykC7oeVaiRyO5zKVe7mko",authDomain:"indiaghumochat.firebaseapp.com",projectId:"indiaghumochat",storageBucket:"indiaghumochat.appspot.com",messagingSenderId:"917609179523",appId:"1:917609179523:web:65addeea928e996d506eb6",measurementId:"G-CQGNJ07K13"}).firestore(),F=L.a.auth(),K=new L.a.auth.GoogleAuthProvider,R=M;var W=function(){var e=Object(h.c)(V),c=Object(n.useState)([]),a=Object(r.a)(c,2),t=a[0],s=a[1];return Object(n.useEffect)((function(){R.collection("channels").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))})),Object(f.jsxs)("div",{className:"sidebar",children:[Object(f.jsxs)("div",{className:"sidebar_above",children:[Object(f.jsx)("h3",{children:e.displayName}),Object(f.jsx)(o.a,{})]}),Object(f.jsxs)("div",{className:"channel",children:[Object(f.jsxs)("div",{className:"channelHeader",children:[Object(f.jsx)("div",{className:"sidebar_header",children:Object(f.jsx)("h4",{children:"Channel"})}),Object(f.jsx)(d.a,{onClick:function(){var e=prompt("Enter a Channel Name");e&&R.collection("channels").add({channelName:e})},className:"sidebar_add"})]}),Object(f.jsx)("div",{className:"channelList",children:t.map((function(e){var c=e.id,a=e.channel;return Object(f.jsx)(v,{id:c,channelName:a.channelName},c)}))})]}),Object(f.jsxs)("div",{className:"voice_channel",children:[Object(f.jsx)(g.a,{className:"sideVoiceIcon"}),Object(f.jsxs)("div",{className:"sideVoiceInfo",children:[Object(f.jsx)("h3",{children:"Voice Connected"}),Object(f.jsx)("p",{children:"Stream"})]}),Object(f.jsxs)("div",{className:"side_voiceIcon",children:[Object(f.jsx)(C.a,{}),Object(f.jsx)(y.a,{})]})]}),Object(f.jsx)("div",{className:"sideProfile",children:Object(f.jsx)(k.a,{onClick:function(){return F.signOut()},src:e.photo,className:"side_profileAvatar"})}),Object(f.jsxs)("div",{className:"sideProfileInfo",children:[Object(f.jsx)("h3",{children:e.displayName}),Object(f.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(f.jsxs)("div",{className:"sideProfileIcons",children:[Object(f.jsx)(G.a,{}),Object(f.jsx)(E.a,{}),Object(f.jsx)(J.a,{})]})]})},T=(a(85),a(104)),U=a(105),Q=a(106),Z=a(107),$=a(108),q=a(109);a(86);var X=function(e){var c=e.channelName;return Object(f.jsxs)("div",{className:"chatHeader",children:[Object(f.jsx)("div",{className:"chatLeft",children:Object(f.jsxs)("h3",{children:[Object(f.jsx)("span",{className:"chatHeader_hash",children:"#"}),c]})}),Object(f.jsxs)("div",{className:"chatRight",children:[Object(f.jsx)(T.a,{}),Object(f.jsx)(U.a,{}),Object(f.jsx)(Q.a,{}),Object(f.jsxs)("div",{className:"chatSearch",children:[Object(f.jsx)("input",{placeholder:"search"}),Object(f.jsx)(Z.a,{})]}),Object(f.jsx)($.a,{}),Object(f.jsx)(q.a,{})]})]})};a(87);var Y=function(e){var c=e.timestamp,a=e.message,n=e.user;return Object(f.jsxs)("div",{className:"message",children:[Object(f.jsx)(k.a,{src:n.photo}),Object(f.jsxs)("div",{className:"messageInfo",children:[Object(f.jsxs)("h4",{children:[n.displayName,Object(f.jsx)("span",{className:"MessageTime",children:new Date(null===c||void 0===c?void 0:c.toDate()).toLocaleString()})]}),Object(f.jsx)("p",{children:a})]})]})},ee=a(110),ce=a(111),ae=a(112),ne=a(113);var te=function(){var e=Object(h.c)(V),c=Object(h.c)(O),a=Object(h.c)(x),t=Object(n.useState)([]),s=Object(r.a)(t,2),i=s[0],l=s[1],o=Object(n.useState)(""),j=Object(r.a)(o,2),d=j[0],u=j[1];return Object(n.useEffect)((function(){c&&R.collection("channels").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return l(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(f.jsxs)("div",{className:"chat",children:[Object(f.jsx)(X,{channelName:a}),Object(f.jsx)("div",{className:"chatMessage",children:i.map((function(e){return Object(f.jsx)(Y,{timestamp:e.timestamp,message:e.messsage,user:e.user})}))}),Object(f.jsxs)("div",{className:"Addchat",children:[Object(f.jsx)(ee.a,{}),Object(f.jsxs)("form",{children:[Object(f.jsx)("input",{value:d,onChange:function(e){return u(e.target.value)},placeholder:"message #".concat(a)}),Object(f.jsx)("button",{onClick:function(a){a.preventDefault(),R.collection("channels").doc(c).collection("messages").add({user:e,messsage:d,timestamp:L.a.firestore.FieldValue.serverTimestamp()}),u("")},className:"ChatButton",type:"submit",children:"send"})]}),Object(f.jsxs)("div",{className:"chat_inputIcon",children:[Object(f.jsx)(ce.a,{fontSize:"large"}),Object(f.jsx)(ae.a,{fontSize:"large"}),Object(f.jsx)(ne.a,{fontSize:"large"})]})]})]})},se=a(114);a(88);var ie=function(){return Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)("h1",{children:"INDIA GHUMO"}),Object(f.jsx)(se.a,{onClick:function(e){F.signInWithPopup(K)},className:"login_button",children:"Sign In"})]})};var re=function(){var e=Object(h.c)(V),c=Object(h.b)();return Object(n.useEffect)((function(){F.onAuthStateChanged((function(e){console.log("user is",e),c(e?A({uid:e.uid,email:e.email,displayName:e.displayName,photo:e.photoURL}):B())}))}),[c]),Object(f.jsx)("div",{className:"App",children:e?Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(W,{}),Object(f.jsx)(te,{})," "]}):Object(f.jsx)(ie,{})})},le=Object(u.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload,e.channelName=c.payload}}}),oe=(le.actions.setChannelInfo,le.reducer),je=Object(u.a)({reducer:{user:z,chat:p,app:oe}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(f.jsx)(t.a.StrictMode,{children:Object(f.jsx)(h.a,{store:je,children:Object(f.jsx)(re,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[89,1,2]]]);
//# sourceMappingURL=main.18713c65.chunk.js.map